<!DOCTYPE html>
<html>
<head>
    <title>Braincore Buttons</title>
    <meta charset="UTF-8">
    <meta name="viewport" content=
    "width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
     tailwind.config = {
         theme: {
             extend: {
                 colors: {
                     'notion-dark': '#2F3437'
                 }
             }
         }
     }
    </script>
</head>
<body class="bg-white dark:bg-notion-dark">
    <div class="flex flex-row gap-4 justify-center min-h-screen items-center">
        <form id="create-entry" name="create-entry" method="POST" action="https://cgi.eccentric-j.com/dispatch/dispatch.clj">
            <input type="hidden" name="api_token" />
            <input type="hidden" name="repo" />
            <input type="hidden" name="owner" />
            <input type="hidden" name="event_type" />
            <button type="submit" class="bg-green-400 text-white rounded-sm px-2 py-1">
                Deploy
            </button>
        </form>
    </div>
    <script>
     const createEntryForm = document.getElementById('create-entry')
     const params = new URLSearchParams(window.location.search || '?')
     const token = params.get('api_token')

     Array.from(document.forms)
            // form.api_token.value = token
        .flatMap(form => Array.from(form.elements))
        .filter(input => params.get(input.name))
        .forEach(input => {
            input.value = params.get(input.name)
        })
    </script>
</body>
</html>
